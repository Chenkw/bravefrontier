<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="description" content="Brave Frontier - Raw Skills Information RX7  - A community effort by Brave Frontier PROs" />
    <meta name="author" content="Sam GreenPuck" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Brave Frontier - Raw Skills Information RX7 - by Brave Frontier PROs</title>
    <link rel="shortcut icon" href="https://googledrive.com/host/0B4hJr8BXxvFZZVVOZWswdnlnYTg/iconavatar128.png" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
<style type="text/css">
    .clear {clear:both;}
    .bd {
        font-weight:bold;
        background:#EEEEEE;
        text-transform:uppercase;
        border:1px solid #CCCCCC;
        padding:3px;
        word-wrap: break-word;
    }
    .bi {
        border:1px solid #CCCCCC;
        padding:3px;
        word-wrap: break-word;
    }
    .upper {
        text-transform:uppercase;
    }
    .equal, .equal > div[class*='col-'] {  
    display: -webkit-flex;
    display: flex;
    flex:1 1 auto;
    }
</style>
<!-- START JSON Code-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

</head>

<!-- MAIN BODY CONTENT -->
<body>
    <!-- Static navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="//bravefrontierpros.tumblr.com/"><img src="https://googledrive.com/host/0B4hJr8BXxvFZZVVOZWswdnlnYTg/iconavatar64.png" class="img-circle" style="max-width:64px; margin-top: -7px;" width="32"/> Brave Frontier PROs</a>
        </div>
        <!-- Collapse Nav-->
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
                    <li><a href="//bravefrontierpros.tumblr.com/chatroomunified"><i class="fa fa-comments-o"></i> Chat</a></li>
                    <li><a href="unitsguide.html"><i class="fa fa-female"></i><i class="fa fa-male"></i> Units DB</a></li>
                    <li><a href="fusionxpcalculator.html"><i class="fa fa-cogs"></i> Fusion XP Calc</a></li>
                    <li><a href="//bravefrontierpros.tumblr.com/mostwanted"><i class="fa fa-info"></i> Most wanted</a></li>
                    <li><a href="//bravefrontierpros.tumblr.com/youtubechannel"><i class="fa fa-youtube"></i> YouTube</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

<!-- Main Body Space-->
<div class="container-fluid" style="margin:0px;padding:5px;">
<div style="min-height:55px;"></div>
<div class="alert alert-warning alert-dismissible" role="alert">
<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
<i class="fa fa-heart-o fa-lg"></i> This is a presented view based on what was cleverly extracted by <a href="http://www.reddit.com/user/Deathmax" target="_blank">DeathMax</a>. Thanks to <a href="http://www.reddit.com/user/Twofu" target="_blank">Twofu</a> from <a href="http://www.reddit.com/r/bravefrontier/" target="_blank">Brave Frontier reddit</a> for sending me the latest extracts. Also thanks to <a href="https://www.facebook.com/frayformana?fref=ufi">Formana</a> from <a href="https://www.facebook.com/groups/444458765689597/">Brave Frontier Elite Group</a> for bringing this to my attention.<br/>
<i class="fa fa-exclamation-circle"></i> ALL types of Buff % indicated are incremental.<br/>
<i class="fa fa-exclamation-circle"></i> CRIT has a hard cap at 70% and all units have 10% base CRIT. Credit to <a href="http://www.reddit.com/user/_nnng_" target="_blank">_nnng_</a> on <a href="http://www.reddit.com/r/bravefrontier/comments/2fbssl/about_base_crit_and_crit_spheres/" target="_blank">reddit</a>.<br/>
<h5 class="text-danger"><b>*WARNING*</b> This page can take a while to load depending on your connection speed (~1.5MB uncompressed, ~100kb compressed). Let the script run and do not stop it till it's done.</h5>
</div>

<!-- Google Manual labnol.org responsive ads-->
<div class="text-center" style="margin-bottom:5px;">
<div id="google-ads-1"></div>
<script type="text/javascript"> 
 
    /* Calculate the width of available ad space */
    ad = document.getElementById('google-ads-1');
 
    if (ad.getBoundingClientRect().width) {
        adWidth = ad.getBoundingClientRect().width; // for modern browsers 
    } else {
        adWidth = ad.offsetWidth; // for old IE 
    }
 
    /* Replace ca-pub-XXX with your AdSense Publisher ID */ 
    google_ad_client = "ca-pub-2145833818900192";
 
    /* Replace 1234567890 with the AdSense Ad Slot ID */ 
    google_ad_slot = "1402210464";
  
    /* Do not change anything after this line */
    if ( adWidth >= 728 )
      google_ad_size = ["728", "90"];  /* Leaderboard 728x90 */
    else if ( adWidth >= 468 )
      google_ad_size = ["468", "60"];  /* Banner (468 x 60) */
    else if ( adWidth >= 336 )
      google_ad_size = ["336", "280"]; /* Large Rectangle (336 x 280) */
    else if ( adWidth >= 300 )
      google_ad_size = ["300", "250"]; /* Medium Rectangle (300 x 250) */
    else if ( adWidth >= 250 )
      google_ad_size = ["250", "250"]; /* Square (250 x 250) */
    else if ( adWidth >= 200 )
      google_ad_size = ["200", "200"]; /* Small Square (200 x 200) */
    else if ( adWidth >= 180 )
      google_ad_size = ["180", "150"]; /* Small Rectangle (180 x 150) */
    else
      google_ad_size = ["125", "125"]; /* Button (125 x 125) */
 
    document.write (
     '<ins class="adsbygoogle" style="display:inline-block;width:' 
      + google_ad_size[0] + 'px;height:' 
      + google_ad_size[1] + 'px" data-ad-client="' 
      + google_ad_client + '" data-ad-slot="' 
      + google_ad_slot + '"></ins>'
    );
  
    (adsbygoogle = window.adsbygoogle || []).push({});
 </script>
</div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<h5>Data presented is based on <b class="text-danger">Global Server</b> data.</h5>
<h5><b>Last Updated: </b><kbd>29th Sep 2014</kbd> <b>Total Unit Records:</b> <kbd id="unitCount">Pulling data ...</kbd></h5>

<!-- Leader Skills button -->
<div class="btn-group" style="margin-bottom:10px;">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Filter by Leader Skill Effects <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
    <li><a href="#" class="lsEffect">bb gauge fill rate%</a></li>
    <li><a href="#" class="lsEffect">bc drop% for spark</a></li>
    <li><a href="#" class="lsEffect">bc fill per turn</a></li>
    <li><a href="#" class="lsEffect">hc drop% for spark</a></li>
    <li><a href="#" class="lsEffect">hc production%</a></li>
    <li><a href="#" class="lsEffect">hc effectiveness%</a></li>
    <li><a href="#" class="lsEffect">damage% for spark</a></li>
    <li><a href="#" class="lsEffect">dmg% for crits</a></li>
    <li><a href="#" class="lsEffect">dmg% for elemental weakness</a></li>
    <li><a href="#" class="lsEffect">heal</a></li>
    <li><a href="#" class="lsEffect">gradual heal</a></li>
  </ul>
</div>
<!-- BB Skills button -->
<div class="btn-group" style="margin-bottom:10px;">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Filter by BB Skill Effects <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
    <li><a href="#" class="skillEffect">atk% buff</a></li>
    <li><a href="#" class="skillEffect">def% buff</a></li>
    <li><a href="#" class="skillEffect">rec% buff</a></li>
    <li><a href="#" class="skillEffect">crit% buff</a></li>
    <li><a href="#" class="skillEffect">increase bb gauge</a></li>
    <li><a href="#" class="skillEffect">increase bb gauge gradual</a></li>
    <li><a href="#" class="skillEffect">bc drop rate% buff</a></li>
    <li><a href="#" class="skillEffect">hc drop rate% buff</a></li>
    <li><a href="#" class="skillEffect">bb bc%</a></li>
    <li><a href="#" class="skillEffect">spark dmg% buff</a></li>
    <li><a href="#" class="skillEffect">heal</a></li>
    <li><a href="#" class="skillEffect">gradual heal</a></li>
  </ul>
</div>
<!-- SBB Skills button -->
<div class="btn-group" style="margin-bottom:10px;">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Filter by SBB Skill Effects <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
    <li><a href="#" class="skillEffect2">atk% buff</a></li>
    <li><a href="#" class="skillEffect2">def% buff</a></li>
    <li><a href="#" class="skillEffect2">rec% buff</a></li>
    <li><a href="#" class="skillEffect2">crit% buff</a></li>
    <li><a href="#" class="skillEffect2">increase bb gauge</a></li>
    <li><a href="#" class="skillEffect2">increase bb gauge gradual</a></li>
    <li><a href="#" class="skillEffect2">bc drop rate% buff</a></li>
    <li><a href="#" class="skillEffect2">hc drop rate% buff</a></li>
    <li><a href="#" class="skillEffect2">bb bc%</a></li>
    <li><a href="#" class="skillEffect2">spark dmg% buff</a></li>
    <li><a href="#" class="skillEffect2">heal</a></li>
    <li><a href="#" class="skillEffect2">gradual heal</a></li>
  </ul>
</div>
<!-- Rarity Filter -->
<div class="btn-group" style="margin-bottom:10px;">
  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Filter by Rarity <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu">
    <li><a href="#" class="raritySelect">1<i class="fa fa-star-o"></i></a></li>
    <li><a href="#" class="raritySelect">2<i class="fa fa-star-o"></i></a></li>
    <li><a href="#" class="raritySelect">3<i class="fa fa-star-o"></i></a></li>
    <li><a href="#" class="raritySelect">4<i class="fa fa-star-o"></i></a></li>
    <li><a href="#" class="raritySelect">5<i class="fa fa-star-o"></i></a></li>
    <li><a href="#" class="raritySelect">6<i class="fa fa-star-o"></i></a></li>
  </ul>
</div>
<!--Search-->
<div class="input-group" style="margin-bottom:5px;">
        <span class="input-group-btn">
        <button class="btn btn-primary" type="button" id="searchIdBtn">Enter UNIT ID</button></span>
        <input type="search" placeholder="e.g. 100 or 500" class="form-control" id="searchIdBox">
</div>
<div class="input-group">
        <span class="input-group-btn">
        <button class="btn btn-primary" type="button" id="searchNameBtn">Search Unit Name</button></span>
        <input type="search" placeholder="e.g. luther" class="form-control" id="searchNameBox">
</div>

<!--Containing Div-->
<div class="container-fluid" id="rawMod">
    <div class="panel-group" id="rawTable"><h3 class="text-success"><i class="fa fa-question-circle fa-lg"></i> HELP: See nothing? Search for the unit name you wish to view.</h3></div>
</div>

<!-- Google Manual labnol.org responsive ads-->
<div class="text-center" style="margin-bottom:5px;">
<div id="google-ads-2"></div>
<script type="text/javascript"> 
 
    /* Calculate the width of available ad space */
    ad = document.getElementById('google-ads-2');
 
    if (ad.getBoundingClientRect().width) {
        adWidth = ad.getBoundingClientRect().width; // for modern browsers 
    } else {
        adWidth = ad.offsetWidth; // for old IE 
    }
 
    /* Replace ca-pub-XXX with your AdSense Publisher ID */ 
    google_ad_client = "ca-pub-2145833818900192";
 
    /* Replace 1234567890 with the AdSense Ad Slot ID */ 
    google_ad_slot = "1402210464";
  
    /* Do not change anything after this line */
    if ( adWidth >= 728 )
      google_ad_size = ["728", "90"];  /* Leaderboard 728x90 */
    else if ( adWidth >= 468 )
      google_ad_size = ["468", "60"];  /* Banner (468 x 60) */
    else if ( adWidth >= 336 )
      google_ad_size = ["336", "280"]; /* Large Rectangle (336 x 280) */
    else if ( adWidth >= 300 )
      google_ad_size = ["300", "250"]; /* Medium Rectangle (300 x 250) */
    else if ( adWidth >= 250 )
      google_ad_size = ["250", "250"]; /* Square (250 x 250) */
    else if ( adWidth >= 200 )
      google_ad_size = ["200", "200"]; /* Small Square (200 x 200) */
    else if ( adWidth >= 180 )
      google_ad_size = ["180", "150"]; /* Small Rectangle (180 x 150) */
    else
      google_ad_size = ["125", "125"]; /* Button (125 x 125) */
 
    document.write (
     '<ins class="adsbygoogle" style="display:inline-block;width:' 
      + google_ad_size[0] + 'px;height:' 
      + google_ad_size[1] + 'px" data-ad-client="' 
      + google_ad_client + '" data-ad-slot="' 
      + google_ad_slot + '"></ins>'
    );
  
    (adsbygoogle = window.adsbygoogle || []).push({});
 </script>
</div>

</div> <!-- /container -->

<!-- Modal for Progress-->
<div class="modal fade" id="progressModal" tabindex="-1" role="dialog" aria-labelledby="myprogressModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
	<div class="text-center">
	    <h3 class="text-primary"><b>Summoning units</b></h3>
	    <i class="fa fa-spinner fa-spin fa-5x"></i>
	    <h4 class="text-primary">A moment please ...</h4>
	    <h5>(Note: This can take a while depending on connection speed ...)</h5>
	</div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
countVar=0;
collapseID=1;
rawParseObj=[]; /*holder variable in array*/

/*JQ Param handling*/
function urlParam(name){
    var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
    if (results==null){
       return '';
    }
    else{
       return decodeURIComponent(results[1]) || '';
    }
}

/*Build DATABASE IN MEMORY*/
function buildDB(unit) {
    /*Process for Each Unit*/
    $.each( unit, function( unitKey, valObj ) {
        nameSTR='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#unit'+collapseID+'"><img src="https://googledrive.com/host/0B4hJr8BXxvFZZVVOZWswdnlnYTg/icon'+valObj.guide_id+'.png" width="40" height="40"/> <kbd>'+valObj.guide_id+'</kbd> '+unitKey+' '+valObj.rarity+'<i class="fa fa-star"></i> ['+valObj["element"].toUpperCase()+' Ref ID: '+valObj.id+']</a></h4></div><div id="unit'+collapseID+'" class="panel-collapse collapse"><div class="panel-body"><div class="container-fluid">';
        /*Normal DMG % Distribution*/
        if (valObj["hit dmg% distribution"]) {
            dmgSTR='<div class="row equal"><div class="col-xs-12 col-sm-12 bg-warning"><h5><i class="fa fa-level-up fa-rotate-90"></i> <b>Normal Hits</b></h5></div></div>';
            dmgSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi">'+valObj["hits"]+' hits distributed as '+valObj["hit dmg% distribution"].join('% ')+'%</div></div>';
            /*Max BC Generated*/
            if (valObj["max bc generated"]) {
                dmgSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi"><b>Max BC generated:</b>&nbsp;'+valObj["max bc generated"]+'&nbsp;|&nbsp;<b>Max BC / Normal hit:</b>&nbsp;'+(parseInt(valObj["max bc generated"])/parseInt(valObj.hits))+'</div></div>';
            }
            if (valObj["lord damage range"]) {
                dmgSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi"><b>Lord Damage Range:</b>&nbsp;'+valObj["lord damage range"]+'</div></div>';
            }
        }
        /*Checks LS*/
        if (valObj["leader skill"]) {
            lsSTR='<div class="row equal"><div class="col-xs-12 col-md-12 bg-info"><h5><i class="fa fa-level-up fa-rotate-90"></i> <b>Leader Skill:</b> ['+valObj["leader skill"].name+'] '+valObj["leader skill"].desc+'</h5></div></div>';
            /*ls Heading*/
            lsSTR+='<div class="row equal"><div class="col-xs-5 col-md-5 bd">Tech Bits</div><div class="col-xs-7 col-md-7 bd">Value</div></div>';
            $.each(valObj["leader skill"], function(lsKey,lsVal) {
            	if ((lsKey!="effects") && (lsKey!="name") && (lsKey!="desc")) {
                	lsSTR+='<div class="row equal"><div class="col-xs-5 col-md-5 bi"><span class="ls">'+lsKey+"</span></div>";
                	lsSTR+='<div class="col-xs-7 col-md-7 bi">'+valObj["leader skill"][lsKey]+'</div></div>';
            	} else if (lsKey=="effects") {
            		for (j in valObj["leader skill"].effects) {
            			$.each(valObj["leader skill"].effects[j], function(lsKey2,lsVal2) {
            			lsSTR+='<div class="row equal"><div class="col-xs-5 col-md-5 bi"><span class="ls">'+lsKey2+"</span></div>";
                		lsSTR+='<div class="col-xs-7 col-md-7 bi">'+lsVal2+'</div></div>';
            			})
            		}
            	}
            })
        } else lsSTR="";

        /*Checks BB*/
        if (valObj["bb"]) {
            bbSTR='<div class="row equal"><div class="col-xs-12 col-md-12 bg-success"><h5><i class="fa fa-level-up fa-rotate-90"></i> <b>BB Skill: </b>['+valObj["bb"]["name"]+'] '+valObj["bb"]["desc"]+'</h5></div></div>';
            if (valObj["bb"]["hit dmg% distribution"]) {
                bbSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi">'+valObj['bb']["hits"]+' hits distributed as '+valObj['bb']["hit dmg% distribution"].join('% ')+'%</div></div>';
            }
            if (valObj["bb"]["max bc generated"]) {
                bbSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi"><b>Max BC generated:</b>&nbsp;'+valObj["bb"]["max bc generated"]+'&nbsp;|&nbsp;<b>Max BC / BB hit:</b>&nbsp;'+(parseInt(valObj["bb"]["max bc generated"])/parseInt(valObj.bb.hits))+'</div></div>';
            }
            /*BB Heading*/
            bbSTR+='<div class="row equal"><div class="col-xs-2 col-md-2 bd">Tech Bits</div>';
            for (i=0;i<10;i++) {
                    bbSTR+='<div class="col-xs-1 col-md-1 bd">Lv '+(i+1)+'</div>';
                }
            bbSTR+="</div>";
            $.each(valObj.bb.levels[0], function(bbKey,bbVal) {
                if (bbKey!="effects") {
                    bbSTR+='<div class="row equal"><div class="col-xs-2 col-md-2 bi"><span class="bb">'+bbKey+'</span></div>';
                    for (i=0;i<10;i++) {
                        bbSTR+='<div class="col-xs-1 col-md-1 bi">'+valObj.bb.levels[i][bbKey]+'</div>'
                    }
                    bbSTR+="</div>";
                } else if (bbKey=="effects") {
                	for (j in valObj.bb.levels[0].effects) {
                		bbSTR+='<div class="row equal"><div class="col-xs-12 col-md-12 bd"></div></div>';
                		$.each(valObj.bb.levels[0].effects[j], function(bbKey2,bbVal2) {
					bbSTR+='<div class="row equal"><div class="col-xs-2 col-md-2 bi"><span class="bb">'+bbKey2+'</span></div>';
			                    for (k=0;k<10;k++) {
			                        bbSTR+='<div class="col-xs-1 col-md-1 bi">'+valObj.bb.levels[k].effects[j][bbKey2]+'</div>'
			                    }
                    			bbSTR+="</div>";
                		})
                	}
                }
            })
        } else bbSTR="";
        /*Checks SBB*/
        if (valObj["sbb"]) {
            sbbSTR='<div class="row equal"><div class="col-xs-12 col-md-12 bg-danger"><h5><i class="fa fa-level-up fa-rotate-90"></i> <b>SBB Skill: </b>['+valObj["sbb"]["name"]+'] '+valObj["sbb"]["desc"]+'</h5></div></div>';
            if (valObj["sbb"]["hit dmg% distribution"]) {
                sbbSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi">'+valObj["sbb"]["hits"]+' hits distributed as '+valObj["sbb"]["hit dmg% distribution"].join('% ')+'%</div></div>';
            }
            if (valObj["sbb"]["max bc generated"]) {
                sbbSTR+='<div class="row equal"><div class="col-xs-12 col-sm-12 bi"><b>Max BC generated:</b>&nbsp;'+valObj["sbb"]["max bc generated"]+'&nbsp;|&nbsp;<b>Max BC / SBB hit:</b>&nbsp;'+(parseInt(valObj["sbb"]["max bc generated"])/parseInt(valObj.sbb.hits))+'</div></div>';
            }
            /*SBB Heading*/
            sbbSTR+='<div class="row equal"><div class="bd col-xs-2 col-md-2">Tech Bits</div>';
            for (i=0;i<10;i++) {
                    sbbSTR+='<div class="bd col-xs-1 col-md-1">Lv '+(i+1)+'</div>';
                }
            sbbSTR+="</div>";
            $.each(valObj.sbb.levels[0], function(sbbKey,sbbVal) {
                if (sbbKey!="effects") {
                    sbbSTR+='<div class="row equal"><div class="col-xs-2 col-md-2 bi"><span class="sbb">'+sbbKey+'</span></div>';
                    for (i=0;i<10;i++) {
                        sbbSTR+='<div class="col-xs-1 col-md-1 bi">'+valObj.sbb.levels[i][sbbKey]+'</div>'
                    }
                    sbbSTR+="</div>";
                } else if (sbbKey=="effects") {
                	for (j in valObj.sbb.levels[0].effects) {
                		sbbSTR+='<div class="row equal"><div class="col-xs-12 col-md-12 bd"></div></div>';
                		$.each(valObj.sbb.levels[0].effects[j], function(sbbKey2,sbbVal2) {
					sbbSTR+='<div class="row equal"><div class="col-xs-2 col-md-2 bi"><span class="sbb">'+sbbKey2+'</span></div>';
			                    for (k=0;k<10;k++) {
			                        sbbSTR+='<div class="col-xs-1 col-md-1 bi">'+valObj.sbb.levels[k].effects[j][sbbKey2]+'</div>'
			                    }
                    			sbbSTR+="</div>";
                		})
                	}
                }
            })
        } else sbbSTR="";
        /*Append each HTML*/
        var appendSTR=nameSTR+dmgSTR+lsSTR+bbSTR+sbbSTR+'</div></div></div></div>';
        /*Parse into MEMORY DB*/
        rawParseObj.push({"name":unitKey, "collapseCode":appendSTR,"id":valObj.guide_id,"rarity":valObj.rarity});
        countVar+=1;
        collapseID+=1;
    }); /*Each record*/
    $("#unitCount").html(countVar);
    $('#progressModal').modal('hide');
    
    /*check for card param*/
    var searchParam=urlParam('unitid');
    if ( (searchParam != "") && ( searchParam != null) ) {
        /*sets searchbox value then execute*/
        $('#searchIdBox').val(searchParam);
        searchIdRun();
    }
    /*check for card param*/
    var searchParam=urlParam('query');
    if ( (searchParam != "") && ( searchParam != null) ) {
        /*sets searchbox value then execute*/
        $('#searchNameBox').val(searchParam);
        searchNameRun();
    }
}

/*Rarity Filter*/
function rarityRun(select) {
    var sVal=select;
    var outputObj=[];
	var outputHTML=[];
	for (i in rawParseObj) {
	    /*searches for matching skill across LS*/
	    if ( rawParseObj[i]['rarity']==sVal) {
	        outputObj.push(rawParseObj[i]);
	    }
	}
	/*Sort by Name*/
	outputObj=outputObj.sort(function(a,b) {
        if (a.name < b.name)
            return -1;
        if (a.name > b.name)
            return 1;
        return 0;
	});
    /*Build HTML Array*/
    for (i in outputObj) {
        outputHTML.push(outputObj[i].collapseCode)
    }
	/*Joins array and replace HTML*/
	$(rawTable).html('<h3 class="text-primary"><i class="fa fa-smile-o"></i> '+outputHTML.length+' result(s) found. <small><kbd>Copy</kbd> browser URL to share results wherever.</small></h3>'+outputHTML.join(' '));
}

/*Skill Filter Search*/
function lsRun(selectSkill) {
    var sVal=selectSkill;
    var outputObj=[];
	var outputHTML=[];
	for (i=0;i<rawParseObj.length;i++) {
	    /*searches for matching skill across LS*/
	    if ( rawParseObj[i]['collapseCode'].search('<span class="ls">'+sVal) != -1) {
	        outputObj.push(rawParseObj[i]);
	    }
	}
	/*Sort array*/
    outputObj=outputObj.sort(function(a,b) {
        return parseInt(b.rarity)-parseInt(a.rarity);
    });
    /*Build HTML Array*/
    for (i=0;i<outputObj.length;i++) {
        outputHTML.push(outputObj[i].collapseCode)
    }
	/*Joins array and replace HTML*/
	$(rawTable).html('<h3 class="text-primary"><i class="fa fa-smile-o"></i> '+outputHTML.length+' result(s) found / sorted by rarity. <small><kbd>Copy</kbd> browser URL to share results wherever.</small></h3>'+outputHTML.join(' '));
}

/*Skill SBB Filter Search*/
function skillRun2(selectSkill) {
    var sVal=selectSkill;
    var outputObj=[];
	var outputHTML=[];
	for (i=0;i<rawParseObj.length;i++) {
	    /*searches for matching skill across BB / SBB*/
	    if ( rawParseObj[i]['collapseCode'].search('<span class="sbb">'+sVal) != -1) {
	        outputObj.push(rawParseObj[i]);
	    }
	}
	/*Sort array*/
    outputObj=outputObj.sort(function(a,b) {
        return parseInt(b.rarity)-parseInt(a.rarity);
    });
    /*Build HTML Array*/
    for (i=0;i<outputObj.length;i++) {
        outputHTML.push(outputObj[i].collapseCode)
    }
	/*Joins array and replace HTML*/
	$(rawTable).html('<h3 class="text-primary"><i class="fa fa-smile-o"></i> '+outputHTML.length+' result(s) found / sorted by rarity. <small><kbd>Copy</kbd> browser URL to share results wherever.</small></h3>'+outputHTML.join(' '));
}

/*Skill BB Filter Search*/
function skillRun(selectSkill) {
    var sVal=selectSkill;
    var outputObj=[];
	var outputHTML=[];
	for (i=0;i<rawParseObj.length;i++) {
	    /*searches for matching skill across BB / SBB*/
	    if ( rawParseObj[i]['collapseCode'].search('<span class="bb">'+sVal) != -1) {
	        outputObj.push(rawParseObj[i]);
	    }
	}
	/*Sort array*/
    outputObj=outputObj.sort(function(a,b) {
        return parseInt(b.rarity)-parseInt(a.rarity);
    });
    /*Build HTML Array*/
    for (i=0;i<outputObj.length;i++) {
        outputHTML.push(outputObj[i].collapseCode)
    }
	/*Joins array and replace HTML*/
	$(rawTable).html('<h3 class="text-primary"><i class="fa fa-smile-o"></i> '+outputHTML.length+' result(s) found / sorted by rarity. <small><kbd>Copy</kbd> browser URL to share results wherever.</small></h3>'+outputHTML.join(' '));
}

/*Search by Unit ID*/
function searchIdRun() {
    var sVal=$('#searchIdBox').val();
    if (sVal.length <1) {
        $(rawTable).html('<h3 class="text-danger"><i class="fa fa-exclamation-triangle"></i> Minimum 1 character required. Please try again.</h3>')
    } else {
	var outputHTML=[];
	for (i=0;i<rawParseObj.length;i++) {
	    /*compares lowercase string*/
	    if ( rawParseObj[i]['id']==sVal) {
	        outputHTML.push(rawParseObj[i]['collapseCode']);
	        break;
	    }
	}
	/*Joins array and replace HTML*/
	$(rawTable).html('<h3 class="text-primary"><i class="fa fa-smile-o"></i> '+outputHTML.length+' result(s) found. <small><kbd>Copy</kbd> browser URL to share results wherever.</small></h3>'+outputHTML.join(' '));
	/*pushstate update*/
	var state = { stateIdFilter: sVal };
    history.pushState(state, "FIdstate", "?unitid="+encodeURIComponent(sVal) );
    }
}

/*Search by Unit Name*/
function searchNameRun() {
    var sVal=$('#searchNameBox').val();
    var outputObj=[];
	var outputHTML=[];
	if (sVal.length <2) {
        $(rawTable).html('<h3 class="text-danger"><i class="fa fa-exclamation-triangle"></i> Minimum 2 characters required. Please try again.</h3>')
    } else {
	for (i=0;i<rawParseObj.length;i++) {
	    /*compares lowercase string*/
	    if ( rawParseObj[i]['name'].toLowerCase().search(sVal.toLowerCase())!=-1) {
	        outputObj.push(rawParseObj[i]);
	    }
	}
	/*Sort array*/
    outputObj=outputObj.sort(function(a,b) {
        return parseInt(b.rarity)-parseInt(a.rarity);
    });
    /*Build HTML Array*/
    for (i=0;i<outputObj.length;i++) {
        outputHTML.push(outputObj[i].collapseCode)
    }
	/*Joins array and replace HTML*/
	$(rawTable).html('<h3 class="text-primary"><i class="fa fa-smile-o"></i> '+outputHTML.length+' result(s) found / sorted by rarity. <small><kbd>Copy</kbd> browser URL to share results wherever.</small></h3>'+outputHTML.join(' '));
	/*pushstate update*/
	var state = { stateNameFilter: sVal };
    history.pushState(state, "FNamestate", "?query="+encodeURIComponent(sVal) );
    }
}

/*Binds Enter KEY to BOX*/
$( "#searchIdBox" ).keypress( function( event ) {
  if ( event.which == 13 ) {
     searchIdRun()
  }
})

/*Binds Enter KEY to BOX*/
$( "#searchNameBox" ).keypress( function( event ) {
  if ( event.which == 13 ) {
     searchNameRun()
  }
})

/*Update URL based on bb filters*/
$(document).on("click", '.skillEffect', function(e){
    e.preventDefault();
	skillRun($(this).text());
})

/*Update URL based on sbb filters*/
$(document).on("click", '.skillEffect2', function(e){
    e.preventDefault();
	skillRun2($(this).text());
})


/*Update URL based on rarity filters*/
$(document).on("click", '.raritySelect', function(e){
    e.preventDefault();
	rarityRun($(this).text().charAt(0));
})

/*Update URL based on ls filters*/
$(document).on("click", '.lsEffect', function(e){
    e.preventDefault();
	lsRun($(this).text());
})

/*Update URL based on search filters*/
$(document).on("click", '#searchIdBtn', function(e){
    e.preventDefault();
	searchIdRun()
})

/*Update URL based on search filters*/
$(document).on("click", '#searchNameBtn', function(e){
    e.preventDefault();
	searchNameRun()
})

$(document).ready( function(e) {
    /*Init loader*/
    $('#progressModal').modal({
    	keyboard:false,
    	backdrop:'static',
    	toggle:true
    })
    /*AJAX Call shorthand*/
    $.getJSON( "json//bfraw_GL.json", buildDB);
    
/*POP state*/
    $(window).on('popstate', function(ev) {
	var state = ev.originalEvent.state;
	/*Search query state*/
	if (state.stateIdFilter) {
        $('#searchIdBox').val(state.stateIdFilter);
        searchRun();
	}
	/*Search query state*/
	if (state.stateNameFilter) {
        $('#searchNameBox').val(state.stateNameFilter);
        searchRun();
	}
    })
})
</script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48617906-1', 'auto');
  ga('send', 'pageview');
</script>
<!--Chatroom-->
<script id="sid0020000073204931169">(function() {function async_load(){s.id="cid0020000073204931169";s.src=(window.location.href.indexOf('file:///') > -1 ? 'http:' : '') + '//st.chatango.com/js/gz/emb.js';s.style.cssText="width:450px;height:550px;";s.async=true;s.text='{"handle":"bravefrontierpros","arch":"js","styles":{"a":"cc66cc","b":84,"c":"ffffff","d":"ffffff","e":"ffffff","f":93,"h":"ffffff","k":"cc66cc","l":"cc66cc","m":"cc66cc","o":84,"q":"cc66cc","r":84,"t":0,"pos":"br","cv":1,"cvfnt":"\'Helvetica Neue\', Helvetica, Arial, sans-serif, sans-serif","cvbg":"cc66cc","cvbga":84,"cvw":300,"cvh":30,"sbc":"33ff33","surl":0,"ticker":1}}';var ss = document.getElementsByTagName('script');for (var i=0, l=ss.length; i < l; i++){if (ss[i].id=='sid0020000073204931169'){ss[i].id +='_';ss[i].parentNode.insertBefore(s, ss[i]);break;}}}var s=document.createElement('script');if (s.async==undefined){if (window.addEventListener) {addEventListener('load',async_load,false);}else if (window.attachEvent) {attachEvent('onload',async_load);}}else {async_load();}})();</script>
</body>
</html>
